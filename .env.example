# PDF Image Extractor - Environment Configuration
# Copy this file to .env and fill in your values
#
# IMPORTANT: In production, you MUST set JWT_SECRET!
# Generate one with: node -e "console.log(require('crypto').randomBytes(48).toString('hex'))"

# ===========================================
# Server Configuration
# ===========================================
PORT=3001
HOST=0.0.0.0
NODE_ENV=production

# ===========================================
# Database
# ===========================================
# SQLite (default, good for single-instance deployments)
DATABASE_URL=file:/data/db/prod.db

# PostgreSQL (for multi-instance or cloud deployments)
# DATABASE_URL=postgresql://user:password@localhost:5432/pdfextractor

# ===========================================
# Storage
# ===========================================
# Directory for storing extracted images (must be persistent in Docker)
STORAGE_DIR=/data/storage

# ===========================================
# Security (REQUIRED - MUST CHANGE!)
# ===========================================
# JWT secret for authentication
# MUST be at least 32 characters long!
# Generate with: node -e "console.log(require('crypto').randomBytes(48).toString('hex'))"
JWT_SECRET=CHANGE_ME_generate_with_node_crypto_randomBytes_48

# JWT token expiry (e.g., 1h, 7d, 30d)
JWT_EXPIRES_IN=7d

# ===========================================
# Admin User (auto-created on first startup)
# ===========================================
ADMIN_EMAIL=admin@example.com
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme123!

# ===========================================
# File Processing Limits
# ===========================================
MAX_FILE_SIZE_MB=200
MAX_PAGES=500

# ===========================================
# Cleanup Settings
# ===========================================
# Days until extractions expire (0 = never expire)
EXTRACTION_EXPIRY_DAYS=7

# Enable automatic cleanup of expired extractions
ENABLE_AUTO_CLEANUP=true

# ===========================================
# Optional: Public URL
# ===========================================
# Only set if your app is behind a proxy with a different URL
# Leave unset to derive from request origin (recommended)
# PUBLIC_BASE_URL=https://your-app.example.com
EXTRACTION_EXPIRY_DAYS=7
ENABLE_AUTO_CLEANUP=true
